---
batch_connect:
  template: vnc
script:
  native: [ 
          "-N 1",
          <%- if session == "cpu1" -%> "-c 2", <%- end -%>
          <%- if session == "cpu2" -%> "-c 4", <%- end -%>
          <%- if session == "cpu3" -%> "-c 6", <%- end -%>
          <%- if session == "cpu4" -%> "-c 8", <%- end -%>
          <%- if session == "gpu1" -%> "-c 2", <%- end -%>
          <%- if session == "gpu2" -%> "-c 3", <%- end -%>
          
          <%- if session == "cpu1" -%> "--mem=7GB", <%- end -%>
          <%- if session == "cpu2" -%> "--mem=15GB", <%- end -%>
          <%- if session == "cpu3" -%> "--mem=20GB", <%- end -%>
          <%- if session == "cpu4" -%> "--mem=30GB", <%- end -%>
          <%- if session == "gpu1" -%> "--mem=7GB", <%- end -%>
          <%- if session == "gpu2" -%> "--mem=15GB", <%- end -%>
          
          <%- if session == "cpu1" -%> "--time=7-00:00:00", <%- end -%>
          <%- if session == "cpu2" -%> "--time=4-00:00:00", <%- end -%>
          <%- if session == "cpu3" -%> "--time=3-00:00:00", <%- end -%>
          <%- if session == "cpu4" -%> "--time=2-00:00:00", <%- end -%>
          <%- if session == "gpu1" -%> "--time=4-00:00:00", <%- end -%>
          <%- if session == "gpu2" -%> "--time=2-00:00:00", <%- end -%>

          "--partition=vnc",
          "--qos=vnc",

          <%- if session == "gpu1" -%> "--gres=gpu:1", <%- end -%>
          <%- if session == "gpu2" -%> "--gres=gpu:2", <%- end -%>
          ]
          #script:
#  native: ["-w" , "node452"]
