# Batch Connect app configuration file
#
# @note Used to define the submitted cluster, title, description, and
#   hard-coded/user-defined attributes that make up this Batch Connect app.
---

# **MUST** set cluster id here that matches cluster configuration file located
# under /etc/ood/config/clusters.d/*.yml
# @example Use the Owens cluster at Ohio Supercomputer Center
#     cluster: "owens"
cluster: "ood_oscar"
attributes:
  modules:
    value: ""
    help: "You can leave this blank if you are **not** loading additional modules. Otherwise load mulitple modules by module names seperated by spaces. For example to load mulitple  modules use: `R/3.5.1 python/2.7` "
  jupyter_path:
    label: "Conda Path"
    value: "/gpfs/runtime/opt/ood_system/ac3/bin"
    help: "The above is the default location to your base conda installation. This should allow you to launch your other environmnets from within Jupyter"
  conda_env:
    value: ""
    help: "Type in the specific conda environment you want to launch the Jupyer notebook from. If you want you can choose the environment from the Jupyter interface instead presuming you have Jupyter installed in the base environment. You **will** need to provide this if Jupyter is only installed in a particular environment. The is the argument to `conda active myenv`. You would only put in `myenv` here. "
  extra_jupyter_args:
    value: ""
    help: "Any extra command line arguments to feed to the `jupyter notebook...` command that launches the Jupyter notebook within the batch job"
  bc_account:
    label: "Condo account"
    help: "You can leave this blank if you are **not** using a condo else enter the condo name here for example `cbc-condo`"
  jupyterlab_switch:
    widget: "check_box"
    label: "Use JupyterLab instead of Jupyter Notebook?"
    help: |
      JupyterLab is the next generation of Jupyter, and is completely compatible with existing Jupyter Notebooks.
  num_cores:
    widget: "number_field"
    label: "Number of cores"
    value: 1
    help: |
      Number of cores on node type
  sh_mem:
    label: "Memory (GB) (optional)"
    widget: "number_field"
    help: "<small>Amount of memory to allocate</small>"
    value: 4
form:
  - jupyter_path
  - conda_env
  - modules
  - jupyterlab_switch
  - extra_jupyter_args
  - num_cores
  - sh_mem
  - bc_account
  - bc_queue
  - bc_num_hours
  - bc_num_slots
  - bc_email_on_started
